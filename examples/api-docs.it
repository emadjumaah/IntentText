title: API Documentation
summary: REST API documentation with schema validation and query examples

section: Authentication
sub: OAuth 2.0
note: All API requests require authentication via Bearer token

headers: Endpoint | Method | Description
row: /auth/token | POST | Get access token
row: /auth/refresh | POST | Refresh expired token
row: /auth/revoke | POST | Revoke token

sub2: Token Requirements
task: Implement JWT validation | owner: backend | priority: high | due: 2026-04-01
done: OAuth flow diagram | time: 2026-02-20
question: Should we support API keys for service accounts?

section: Endpoints
sub: Users API

headers: Endpoint | Method | Auth Required | Rate Limit
row: /users | GET | Yes | 100/min
row: /users/:id | GET | Yes | 100/min
row: /users | POST | Yes (Admin) | 10/min
row: /users/:id | PUT | Yes (Owner) | 50/min
row: /users/:id | DELETE | Yes (Admin) | 10/min

sub2: Query Parameters
note: Use query language to filter: type=user status=active
task: Add pagination support | owner: api-team | priority: medium

sub: Projects API

headers: Endpoint | Method | Auth Required
row: /projects | GET | Yes
row: /projects/:id | GET | Yes
row: /projects | POST | Yes
row: /projects/:id | PUT | Yes (Owner)
row: /projects/:id | DELETE | Yes (Owner)

divider: API Standards

section: Error Handling
sub: Status Codes
- 200: Success
- 400: Bad Request
- 401: Unauthorized
- 403: Forbidden
- 404: Not Found
- 429: Rate Limited
- 500: Server Error

sub2: Error Format
note: All errors follow RFC 7807 (Problem Details)
code:
{
  "type": "https://api.example.com/errors/invalid-request",
  "title": "Invalid Request",
  "status": 400,
  "detail": "The 'email' field is required",
  "instance": "/users"
}
end:

section: Rate Limiting
sub: Limits by Tier
- Free: 100 requests/minute
- Pro: 1000 requests/minute
- Enterprise: 10000 requests/minute

task: Implement rate limiting middleware | owner: backend | priority: high
task: Add rate limit headers | owner: backend | priority: medium

section: Webhooks
sub: Events
- user.created
- user.updated
- project.created
- project.deleted
- payment.received

done: Webhook payload schema | time: 2026-02-25

sub2: Verification
code:
const signature = crypto
  .createHmac('sha256', webhookSecret)
  .update(payload)
  .digest('hex');
end:

ai: Generate SDK code examples for the endpoints above | model: gpt-4

synthesize: Quick Start Guide | scope: section | output: key-points

ref: Authentication Guide | to: ./auth-guide.it
ref: Error Handling Best Practices | to: ./errors.it
